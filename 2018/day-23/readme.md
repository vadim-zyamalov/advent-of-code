# Заметки

Первая часть крайне проста.

Вторая оказалась дстаточно сложной.
Я дошел до главной идеи: найти область с максимальным пересечением.
Проблемой оказалось понять, как найти эту область, да еще и в трехмерном пространстве.

## Быстрое, но некорректное решение

Крайне интересный подход у [u/EriiKKo](https://www.reddit.com/r/adventofcode/comments/a8s17l/comment/ecdqzdg):

1. Преобразуем трехмерный массив наноботов в одномерный, содержащий минимальное и максимальное расстояние до начала координат.
   Также учтем начало и конец полученного интервала (1 и -1, соответсвенно).
2. Отсортируем полученный список по возрастанию расстояния.
3. Отсекая по одному элементу находим расстояние до максимального пересечения.

Однако следует признать, что этот подход, в общем случае, неверен.
Это признает и сам автор.

## Корректное, но более медленное решение

[u/fizbin](https://www.reddit.com/r/adventofcode/comments/a8s17l/comment/ecfmpy0) использовал подход, который предполагался **автором** AoC [u/topaz2078](https://www.reddit.com/r/adventofcode/comments/aa9uvg/comment/ecrftas).

1. Найдем максимальное **абсолютное** значение координат бота плюс его радиус.
2. Найдем минимальный размер куба, который будет включать **все** боты с их радиусами.
3. Создадим очередь с приоритетом, в которой
   * сначала будем учитывать число пересечений куба с ботами (то есть их областями) с минусом (для превращения максимума в минимум);
   * затем будем рассматривать размер куба, также с минусом, чтобы в спорных ситуациях обрабатывать в первую очередь более крупные куски;
   * после будем учитывать расстояние от *нижнего* угла до стартовой позиции;
   * хранить будем сам куб, который определяется двумя точками, условно (0, 0, 0) и (1, 1, 1).
4. На каждом шаге будем брать первый элемент из очереди.
   Полученный куб будем делить на восемь равных кусков, для каждого из которых находим число пересечений с областями ботов и расстояние до старта.
   Добавляем новые кубы (**октанты**) в очередь.
5. Повторяем шаг 4 до тех пор, пока размер очередного куба не будет равен 1.
   Так как мы работаем с очередью с приоритетом, то мы можем быть уверенными, что мы получили результат.
